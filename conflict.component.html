<h2 style="color: #0D47A1; margin-bottom: 15px;">Subject Group Summary</h2>

<div *ngIf="exams.length > 0; else noData" style="background: #E3F2FD; padding: 20px; border-radius: 8px;">
  <mat-accordion multi>
    <mat-expansion-panel *ngFor="let subject of exams" style="margin-bottom: 10px;">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <strong>{{ subject.subjectId }}</strong> â€” {{ subject.subjectTitle }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div style="padding: 10px 20px;">
        <table mat-table [dataSource]="subject.codes" class="mat-elevation-z4" style="width: 100%; background: white; border-radius: 6px;">

          <!-- Code No -->
          <ng-container matColumnDef="codeNo">
            <th mat-header-cell *matHeaderCellDef style="background: #1565C0; color: white;">Code No</th>
            <td mat-cell *matCellDef="let c">{{ c.codeNo }}</td>
          </ng-container>

          <!-- Course -->
          <ng-container matColumnDef="course">
            <th mat-header-cell *matHeaderCellDef style="background: #1565C0; color: white;">Course</th>
            <td mat-cell *matCellDef="let c">{{ c.course }}</td>
          </ng-container>

          <!-- Year -->
          <ng-container matColumnDef="year">
            <th mat-header-cell *matHeaderCellDef style="background: #1565C0; color: white;">Year</th>
            <td mat-cell *matCellDef="let c">{{ c.year }}</td>
          </ng-container>

          <!-- Department -->
          <ng-container matColumnDef="dept">
            <th mat-header-cell *matHeaderCellDef style="background: #1565C0; color: white;">Department</th>
            <td mat-cell *matCellDef="let c">{{ c.dept }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['codeNo', 'course', 'year', 'dept']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['codeNo', 'course', 'year', 'dept'];"></tr>
        </table>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<ng-template #noData>
  <p style="text-align: center; color: #1565C0;">No subject data found.</p>
</ng-template>
